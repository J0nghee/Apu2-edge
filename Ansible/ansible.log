2019-05-22 15:00:49,299 p=10931 u=gionghi |   [WARNING]:  * Failed to parse /home/gionghi/apu2/Ansible/openstack.yml with
yaml plugin: Plugin configuration YAML file, not YAML inventory

2019-05-22 15:00:49,299 p=10931 u=gionghi |   [WARNING]:  * Failed to parse /home/gionghi/apu2/Ansible/openstack.yml with
ini plugin: Invalid host pattern 'plugin:' supplied, ending in ':' is not
allowed, this character is reserved to provide a port.

2019-05-22 15:00:49,299 p=10931 u=gionghi |   [WARNING]:  * Failed to parse /home/gionghi/apu2/Ansible/openstack.yml with
openstack plugin: Auth plugin requires parameters which were not given:
auth_url

2019-05-22 15:00:49,300 p=10931 u=gionghi |   [WARNING]: Unable to parse /home/gionghi/apu2/Ansible/openstack.yml as an
inventory source

2019-05-22 15:00:49,300 p=10931 u=gionghi |   [WARNING]: No inventory was parsed, only implicit localhost is available

2019-05-22 15:00:49,301 p=10931 u=gionghi |   [WARNING]: provided hosts list is empty, only localhost is available. Note
that the implicit localhost does not match 'all'

2019-05-22 15:00:49,775 p=10931 u=gionghi |  [DEPRECATION WARNING]: 'include' for playbook includes. You should use 
'import_playbook' instead. This feature will be removed in version 2.12. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2019-05-22 15:00:50,156 p=10931 u=gionghi |  PLAY [localhost] ***************************************************************
2019-05-22 15:00:50,165 p=10931 u=gionghi |  TASK [Gathering Facts] *********************************************************
2019-05-22 15:00:51,337 p=10931 u=gionghi |  ok: [localhost]
2019-05-22 15:00:51,360 p=10931 u=gionghi |  TASK [openstack_env : create network] ******************************************
2019-05-22 15:00:52,322 p=10931 u=gionghi |  An exception occurred during task execution. To see the full traceback, use -vvv. The error was: keystoneauth1.exceptions.auth_plugins.MissingRequiredOptions: Auth plugin requires parameters which were not given: auth_url
2019-05-22 15:00:52,322 p=10931 u=gionghi |  fatal: [localhost]: FAILED! => {"changed": false, "module_stderr": "Traceback (most recent call last):\n  File \"/home/gionghi/.ansible/tmp/ansible-tmp-1558530051.37-189103385039011/AnsiballZ_os_network.py\", line 114, in <module>\n    _ansiballz_main()\n  File \"/home/gionghi/.ansible/tmp/ansible-tmp-1558530051.37-189103385039011/AnsiballZ_os_network.py\", line 106, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/gionghi/.ansible/tmp/ansible-tmp-1558530051.37-189103385039011/AnsiballZ_os_network.py\", line 49, in invoke_module\n    imp.load_module('__main__', mod, module, MOD_DESC)\n  File \"/tmp/ansible_os_network_payload_MDMi6J/__main__.py\", line 232, in <module>\n  File \"/tmp/ansible_os_network_payload_MDMi6J/__main__.py\", line 184, in main\n  File \"/tmp/ansible_os_network_payload_MDMi6J/ansible_os_network_payload.zip/ansible/module_utils/openstack.py\", line 154, in openstack_cloud_from_module\n  File \"/home/gionghi/.virtualenvs/ans2/local/lib/python2.7/site-packages/openstack/__init__.py\", line 59, in connect\n    options=options, **kwargs)\n  File \"/home/gionghi/.virtualenvs/ans2/local/lib/python2.7/site-packages/openstack/config/__init__.py\", line 36, in get_cloud_region\n    return config.get_one(options=parsed_options, **kwargs)\n  File \"/home/gionghi/.virtualenvs/ans2/local/lib/python2.7/site-packages/openstack/config/loader.py\", line 1076, in get_one\n    auth_plugin = loader.load_from_options(**config['auth'])\n  File \"/home/gionghi/.virtualenvs/ans2/local/lib/python2.7/site-packages/keystoneauth1/loading/base.py\", line 162, in load_from_options\n    raise exceptions.MissingRequiredOptions(missing_required)\nkeystoneauth1.exceptions.auth_plugins.MissingRequiredOptions: Auth plugin requires parameters which were not given: auth_url\n", "module_stdout": "", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 1}
2019-05-22 15:00:52,324 p=10931 u=gionghi |  PLAY RECAP *********************************************************************
2019-05-22 15:00:52,324 p=10931 u=gionghi |  localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2019-05-22 15:02:35,160 p=11092 u=gionghi |  [DEPRECATION WARNING]: The TRANSFORM_INVALID_GROUP_CHARS settings is set to 
allow bad characters in group names by default, this will change, but still be 
user configurable on deprecation. This feature will be removed in version 2.10.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2019-05-22 15:02:35,161 p=11092 u=gionghi |   [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2019-05-22 15:02:35,816 p=11092 u=gionghi |  [DEPRECATION WARNING]: 'include' for playbook includes. You should use 
'import_playbook' instead. This feature will be removed in version 2.12. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2019-05-22 15:02:36,228 p=11092 u=gionghi |  PLAY [localhost] ***************************************************************
2019-05-22 15:02:36,237 p=11092 u=gionghi |  TASK [Gathering Facts] *********************************************************
2019-05-22 15:02:37,584 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:37,608 p=11092 u=gionghi |  TASK [openstack_env : create network] ******************************************
2019-05-22 15:02:39,700 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:39,756 p=11092 u=gionghi |  TASK [openstack_env : create subnet] *******************************************
2019-05-22 15:02:42,144 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:42,166 p=11092 u=gionghi |  TASK [openstack_env : create a router] *****************************************
2019-05-22 15:02:45,845 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:45,902 p=11092 u=gionghi |  TASK [openstack_env : create security group] ***********************************
2019-05-22 15:02:47,881 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:47,937 p=11092 u=gionghi |  TASK [openstack_env : create security group rule for SSH] **********************
2019-05-22 15:02:50,030 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:50,053 p=11092 u=gionghi |  TASK [openstack_env : create security group rule for HTTP] *********************
2019-05-22 15:02:51,793 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:51,817 p=11092 u=gionghi |  TASK [openstack_env : upload my public ssh key] ********************************
2019-05-22 15:02:53,814 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:53,838 p=11092 u=gionghi |  TASK [openstack_env : create vm] ***********************************************
2019-05-22 15:02:57,331 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:02:57,337 p=11092 u=gionghi |  PLAY [Refresh and wait] ********************************************************
2019-05-22 15:02:57,394 p=11092 u=gionghi |  TASK [show all the hosts] ******************************************************
2019-05-22 15:02:57,415 p=11092 u=gionghi |  ok: [localhost] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:02:57,429 p=11092 u=gionghi |  ok: [webserver1] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:02:59,946 p=11092 u=gionghi |  TASK [show all the hosts after refresh] ****************************************
2019-05-22 15:02:59,968 p=11092 u=gionghi |  ok: [localhost] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:03:00,003 p=11092 u=gionghi |  ok: [webserver1] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:03:00,028 p=11092 u=gionghi |  TASK [Wait 300 seconds for port 22 to become open and contain "OpenSSH"] *******
2019-05-22 15:03:10,373 p=11092 u=gionghi |  ok: [localhost]
2019-05-22 15:03:10,374 p=11092 u=gionghi |  [DEPRECATION WARNING]: Distribution Ubuntu 19.04 on host webserver1 should use 
/usr/bin/python3, but is using /usr/bin/python for backward compatibility with 
prior Ansible releases. A future Ansible release will default to using the 
discovered platform python for this host. See https://docs.ansible.com/ansible/
2.8/reference_appendices/interpreter_discovery.html for more information. This 
feature will be removed in version 2.12. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
2019-05-22 15:03:10,374 p=11092 u=gionghi |  ok: [webserver1]
2019-05-22 15:03:10,378 p=11092 u=gionghi |  PLAY [Install python] **********************************************************
2019-05-22 15:03:10,383 p=11092 u=gionghi |  TASK [install python] **********************************************************
2019-05-22 15:03:12,078 p=11092 u=gionghi |  changed: [webserver1]
2019-05-22 15:03:12,085 p=11092 u=gionghi |  PLAY [webserver] ***************************************************************
2019-05-22 15:03:12,096 p=11092 u=gionghi |  TASK [Gathering Facts] *********************************************************
2019-05-22 15:03:12,952 p=11092 u=gionghi |  ok: [webserver1]
2019-05-22 15:03:12,971 p=11092 u=gionghi |  TASK [webserver : ensure nginx is at the latest version] ***********************
2019-05-22 15:03:14,384 p=11092 u=gionghi |   [WARNING]: Could not find aptitude. Using apt-get instead

2019-05-22 15:03:14,384 p=11092 u=gionghi |  ok: [webserver1]
2019-05-22 15:03:14,402 p=11092 u=gionghi |  TASK [webserver : start nginx] *************************************************
2019-05-22 15:03:15,205 p=11092 u=gionghi |  ok: [webserver1]
2019-05-22 15:03:15,222 p=11092 u=gionghi |  TASK [webserver : customize preseed.cfg] ***************************************
2019-05-22 15:03:16,102 p=11092 u=gionghi |  ok: [webserver1]
2019-05-22 15:03:16,142 p=11092 u=gionghi |  TASK [webserver : customize late_command.sh] ***********************************
2019-05-22 15:03:16,241 p=11092 u=gionghi |  fatal: [webserver1]: FAILED! => {"changed": false, "msg": "AnsibleUndefinedVariable: 'priv' is undefined"}
2019-05-22 15:03:16,242 p=11092 u=gionghi |  PLAY RECAP *********************************************************************
2019-05-22 15:03:16,242 p=11092 u=gionghi |  localhost                  : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-05-22 15:03:16,242 p=11092 u=gionghi |  webserver1                 : ok=8    changed=1    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2019-05-22 15:04:37,121 p=11550 u=gionghi |  [DEPRECATION WARNING]: The TRANSFORM_INVALID_GROUP_CHARS settings is set to 
allow bad characters in group names by default, this will change, but still be 
user configurable on deprecation. This feature will be removed in version 2.10.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2019-05-22 15:04:37,121 p=11550 u=gionghi |   [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2019-05-22 15:04:37,614 p=11550 u=gionghi |  [DEPRECATION WARNING]: 'include' for playbook includes. You should use 
'import_playbook' instead. This feature will be removed in version 2.12. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2019-05-22 15:04:37,988 p=11550 u=gionghi |  PLAY [localhost] ***************************************************************
2019-05-22 15:04:37,996 p=11550 u=gionghi |  TASK [Gathering Facts] *********************************************************
2019-05-22 15:04:39,116 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:39,138 p=11550 u=gionghi |  TASK [openstack_env : create network] ******************************************
2019-05-22 15:04:41,028 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:41,083 p=11550 u=gionghi |  TASK [openstack_env : create subnet] *******************************************
2019-05-22 15:04:43,095 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:43,151 p=11550 u=gionghi |  TASK [openstack_env : create a router] *****************************************
2019-05-22 15:04:45,677 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:45,700 p=11550 u=gionghi |  TASK [openstack_env : create security group] ***********************************
2019-05-22 15:04:47,693 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:47,717 p=11550 u=gionghi |  TASK [openstack_env : create security group rule for SSH] **********************
2019-05-22 15:04:49,634 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:49,657 p=11550 u=gionghi |  TASK [openstack_env : create security group rule for HTTP] *********************
2019-05-22 15:04:51,374 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:51,398 p=11550 u=gionghi |  TASK [openstack_env : upload my public ssh key] ********************************
2019-05-22 15:04:53,214 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:53,237 p=11550 u=gionghi |  TASK [openstack_env : create vm] ***********************************************
2019-05-22 15:04:56,746 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:04:56,755 p=11550 u=gionghi |  PLAY [Refresh and wait] ********************************************************
2019-05-22 15:04:56,784 p=11550 u=gionghi |  TASK [show all the hosts] ******************************************************
2019-05-22 15:04:56,808 p=11550 u=gionghi |  ok: [localhost] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:04:56,825 p=11550 u=gionghi |  ok: [webserver1] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:04:58,867 p=11550 u=gionghi |  TASK [show all the hosts after refresh] ****************************************
2019-05-22 15:04:58,895 p=11550 u=gionghi |  ok: [localhost] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:04:58,913 p=11550 u=gionghi |  ok: [webserver1] => (item=webserver1) => {
    "msg": "Available hosts: webserver1"
}
2019-05-22 15:04:58,969 p=11550 u=gionghi |  TASK [Wait 300 seconds for port 22 to become open and contain "OpenSSH"] *******
2019-05-22 15:05:09,364 p=11550 u=gionghi |  ok: [localhost]
2019-05-22 15:05:09,366 p=11550 u=gionghi |  [DEPRECATION WARNING]: Distribution Ubuntu 19.04 on host webserver1 should use 
/usr/bin/python3, but is using /usr/bin/python for backward compatibility with 
prior Ansible releases. A future Ansible release will default to using the 
discovered platform python for this host. See https://docs.ansible.com/ansible/
2.8/reference_appendices/interpreter_discovery.html for more information. This 
feature will be removed in version 2.12. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
2019-05-22 15:05:09,367 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:09,371 p=11550 u=gionghi |  PLAY [Install python] **********************************************************
2019-05-22 15:05:09,375 p=11550 u=gionghi |  TASK [install python] **********************************************************
2019-05-22 15:05:10,959 p=11550 u=gionghi |  changed: [webserver1]
2019-05-22 15:05:10,964 p=11550 u=gionghi |  PLAY [webserver] ***************************************************************
2019-05-22 15:05:10,973 p=11550 u=gionghi |  TASK [Gathering Facts] *********************************************************
2019-05-22 15:05:11,840 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:11,857 p=11550 u=gionghi |  TASK [webserver : ensure nginx is at the latest version] ***********************
2019-05-22 15:05:13,252 p=11550 u=gionghi |   [WARNING]: Could not find aptitude. Using apt-get instead

2019-05-22 15:05:13,253 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:13,271 p=11550 u=gionghi |  TASK [webserver : start nginx] *************************************************
2019-05-22 15:05:14,089 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:14,107 p=11550 u=gionghi |  TASK [webserver : customize preseed.cfg] ***************************************
2019-05-22 15:05:14,950 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:14,968 p=11550 u=gionghi |  TASK [webserver : customize late_command.sh] ***********************************
2019-05-22 15:05:16,025 p=11550 u=gionghi |  ok: [webserver1]
2019-05-22 15:05:16,027 p=11550 u=gionghi |  PLAY RECAP *********************************************************************
2019-05-22 15:05:16,027 p=11550 u=gionghi |  localhost                  : ok=12   changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2019-05-22 15:05:16,028 p=11550 u=gionghi |  webserver1                 : ok=9    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
